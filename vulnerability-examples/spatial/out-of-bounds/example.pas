program OutOfBoundsCorruption;

uses
  SysUtils;

type
  TState = record
    arr: array[0..4] of Integer;
    secretValue: Integer;
  end;

var
  state: TState;

procedure ShowState(stage: string);
var
  i: Integer;
begin
  Writeln('--- ', stage, ' ---');
  for i := 0 to 4 do
    Writeln('arr[', i, '] = ', state.arr[i]);
  Writeln('secretValue = ', state.secretValue);
  Writeln;
end;

var
  i: Integer;
begin
  // Initialize values
  for i := 0 to 4 do
    state.arr[i] := 0;
  state.secretValue := 123456;
  
  ShowState('Before out-of-bounds write');

  // Intentionally write beyond array bounds
  for i := 0 to 5 do // arr[5] = out-of-bounds, should overwrite secretValue
    state.arr[i] := i * 100;

  ShowState('After out-of-bounds write');
end.
