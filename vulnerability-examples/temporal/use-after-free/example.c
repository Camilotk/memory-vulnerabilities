#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct {
    char name[20];
    void (*action)();
} User;

void normal_action() {
    printf("Normal action executed.\n");
}

int main() {
    User *user_a;
    user_a = (User *) malloc(sizeof(User));
    strcpy(user_a->name, "Alice");
    user_a->action = normal_action;
    user_a->action();
    free(user_a); // Deallocate user_a

    // Vulnerability: user_a is now a dangling pointer
    user_a->action(); // Use-after-free

    return 0;
}
